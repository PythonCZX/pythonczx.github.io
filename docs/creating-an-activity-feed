<!DOCTYPE html><html lang="en" data-theme="classic"><head><title>Creating an Activity Feed with Jekyll</title><link rel="shortcut icon" href="/assets/img/favicon.ico"><link rel="alternate" type="application/rss+xml" title="All Content Feed" href="https://shellsharks.com/feeds/all-feed.xml"><link rel="alternate" type="application/rss+xml" title="Post Feed" href="https://shellsharks.com/feeds/feed.xml"><link rel="alternate" type="application/rss+xml" title="Scrolls Feed" href="https://shellsharks.com/feeds/scroll-feed.xml"><link rel="alternate" type="application/rss+xml" title="Infosec Feed" href="https://shellsharks.com/feeds/infosec-feed.xml"><link rel="alternate" type="application/rss+xml" title="Notes Feed" href="https://shellsharks.com/feeds/note-feed.xml"><link rel="alternate" type="application/rss+xml" title="Devlogs Feed" href="https://shellsharks.com/feeds/devlog-feed.xml"><link rel="alternate" type="application/rss+xml" title="Links Feed" href="https://shellsharks.com/feeds/link-feed.xml"><link rel="alternate" type="application/rss+xml" title="Captains Log Feed" href="https://shellsharks.com/feeds/log-feed.xml"><link rel="alternate" type="application/rss+xml" title="Social Web Feed" href="https://shellsharks.com/feeds/socialweb-feed.xml"><link rel="alternate" type="application/rss+xml" title="Life Feed" href="https://shellsharks.com/feeds/life-feed.xml"><link rel="blogroll" type="text/xml" href="https://shellsharks.com/assets/rsrc/shellsharks-blogroll.opml"><link type="text/plain" rel="author" href="https://shellsharks.com/humans.txt" /><link rel="canonical" href="https://shellsharks.com/creating-an-activity-feed"><link rel="apple-touch-icon" href="/assets/img/apple-touch-icon.png"><link rel="indieweb" href="/indieweb.txt" /><link href="https://github.com/shellsharks" rel="me"> <!--IndieAuth Provider--><link rel="authorization_endpoint" href="https://indieauth.com/auth"> <!--IndieAuth--><link rel="token_endpoint" href="https://tokens.indieauth.com/token"> <!--IndieAuth token endpoint--> <!--needed for button css--><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous"><link href='/assets/css/style.css' rel='stylesheet' type='text/css'><link href="/assets/css/syntax.css" rel="stylesheet" ><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/regular/style.css" /><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/fill/style.css" /><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/bold/style.css" /><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Michael Sass" /><meta name="description" content="How to create a unified, IndieWeb-inspired "Activity" feed with Jekyll." /><meta name="keywords" content="Creating an Activity Feed with Jekyll, shellsharks, technology, indieweb, jekyll" /><meta content="shellsharks" property="og:site_name" /><meta name="fediverse:creator" content="@shellsharks@shellsharks.social" /><meta name="robots" content="noai, noimageai, noml" /> <!--https://noml.info--> <script> const currentThemeX = localStorage.getItem('theme') ? localStorage.getItem('theme') : null; if (currentThemeX) { document.documentElement.setAttribute('data-theme', currentThemeX); } else if (matchMedia('(prefers-color-scheme: light)').matches) { localStorage.setItem('theme', "light"); } else if (matchMedia('(prefers-color-scheme: dark)').matches) { localStorage.setItem('theme', "classic"); } else { localStorage.setItem('theme', "classic"); } </script><meta content="Creating an Activity Feed with Jekyll" property="og:title"><meta content="article" property="og:type"><meta content="How to create a unified, IndieWeb-inspired "Activity" feed with Jekyll." property="og:description"><meta content="https://shellsharks.com/creating-an-activity-feed" property="og:url"><meta content="2024-04-09T13:32:00-04:00" property="article:published_time"><meta content="https://shellsharks.com/about/" property="article:author"><meta content="https://shellsharks-images.s3.amazonaws.com/surfshark.png" property="og:image"> <!--<meta content="https://shellsharks-images.s3.amazonaws.com/shellsharks.png" property="og:image">--><meta content="technology" property="article:section"><meta content="technology" property="article:tag"><meta content="indieweb" property="article:tag"><meta content="jekyll" property="article:tag"> <script src="/assets/js/finrand.js"></script><style> @media (max-width: 2048px) { main { width:66%; } } @media (max-width: 1800px) { main { max-width:800px; width:95%; } } @media (max-width: 768px) { main { width:95%; } }</style><body><div class="container"><heading class="container_item"><style> /* * Made by Erik Terwan * 24th of November 2015 * MIT License * * * If you are thinking of using this in * production code, beware of the browser * prefixes. */ #menuToggle { display: block; position: relative; z-index: 1; -webkit-user-select: none; user-select: none; } #menuToggle a { text-decoration: none; transition: color 0.3s ease; color: var(--contrast-font-color); } .menu_section { color: var(--light-font-color); font-weight: 900; } .menu_section:nth-of-type(n+2) { margin-top:20px; } #menuToggle a:hover { color: var(--link-hover-color); } #menuToggle input { display: block; width: 40px; height: 32px; position: absolute; /*top: -7px;*/ /*left: -5px;*/ cursor: pointer; opacity: 0; /* hide this */ z-index: 2; /* and place it over the hamburger */ -webkit-touch-callout: none; } /* * Just a quick hamburger */ #menuToggle span { display: block; width: 27px; height: 3px; margin-bottom: 4px; position: relative; margin-top:4px; background: var(--font-color); border-radius: 3px; z-index: 1; transform-origin: 4px 0px; transition: transform 0.5s cubic-bezier(0.77,0.2,0.05,1.0), background 0.5s cubic-bezier(0.77,0.2,0.05,1.0), opacity 0.55s ease; } #menuToggle span:first-child { transform-origin: 0% 0%; } #menuToggle span:nth-last-child(2) { transform-origin: 0% 100%; } /* * Transform all the slices of hamburger * into a crossmark. */ #menuToggle input:checked ~ span { opacity: 1; transform: rotate(45deg) translate(-2px, -1px); background: var(--link-hover-color); } /* * But let's hide the middle one. */ #menuToggle input:checked ~ span:nth-last-child(3) { opacity: 0; transform: rotate(0deg) scale(0.2, 0.2); } /* * Ohyeah and the last one should go the other direction */ #menuToggle input:checked ~ span:nth-last-child(2) { transform: rotate(-45deg) translate(0, -1px); } /* * Make this absolute positioned * at the top left of the screen */ #menu { position: absolute; left:-10px; width: 200px; /*fit-content;*/ padding: 10px; margin-top:10px; /*display:none;*/ background: var(--light-background-color); color:var(--font-color); list-style-type: none; -webkit-font-smoothing: antialiased; max-height: calc(80vh); overflow:auto; overscroll-behavior: contain; border-radius: 5px; /* to stop flickering of text in safari */ } /* * And let's slide it in from the left */ #menuToggle input:checked ~ ul { display:block; } .hidden { display: none; }</style><div role="navigation" id="hamburger"><div id="menuToggle"> <input type="checkbox" /> <span></span> <span></span> <span></span><ul id="menu" class="hidden"><li class="menu_section">Main<li><a href="/home/feed" ><i class="ph ph-house"></i> Home Feed</a><li><a href="/about" ><i class="ph ph-identification-card"></i> About</a><li><a href="/feeds" ><i class="ph ph-rss"></i> Feeds</a><li><a href="/activity" ><i class="ph ph-pulse"></i> Activity</a><li><a href="https://shellsharks.social/@shellsharks" target="_blank"><i class="ph ph-mastodon-logo"></i> Mastodon</a><li><a href="mailto:mike@shellsharks.com" ><i class="ph ph-envelope"></i> Email</a><li><a href="https://ko-fi.com/shellsharks" ><i class="ph ph-coffee"></i> Buy me a Coffee</a><li id="themetoggler"><i class="ph ph-swatches" id="themetoggle"></i> Toggle theme<li class="menu_section">Site Nav<li><a href="/scrolls" ><i class="ph ph-scroll"></i> Scrolls Newsletter</a><li><a href="/podcast" ><i class="ph ph-microphone"></i> The Shellsharks Podcast</a><li><a href="/notebook" ><i class="ph ph-note"></i> Notebook</a><li><a href="/blogs" ><i class="ph ph-article"></i> Blogs</a><li><a href="/blogs/infosec" ><i class="ph ph-bug"></i> Infosec Blogs</a><li><a href="/captains-log" ><i class="ph-fill ph-notebook"></i> Captain's Log</a><li><a href="/devlog" ><i class="ph ph-code-block"></i> Devlog</a><li><a href="/linklog" ><i class="ph ph-link"></i> Linklog</a><li><a href="/blogroll" ><i class="ph ph-paint-roller"></i> Blogroll</a><li><a href="/fediverse" ><i class="ph ph-fediverse-logo"></i> Fediverse ‚ÅÇ</a><li><a href="/slashes" ><i class="ph ph-folder-simple-star"></i> Slashes</a><li><a href="/uses" ><i class="ph ph-hammer"></i> Uses</a><li><a href="/now" ><i class="ph ph-clock"></i> Now</a><li><a href="/tags" ><i class="ph ph-tag"></i> Tags</a><li><a href="/statboard" ><i class="ph ph-gauge"></i> Statboard</a><li><a href="/changelog" ><i class="ph ph-arrows-left-right"></i> Change Log</a><li><a href="/interests" ><i class="ph ph-heart"></i> Interests</a><li><a href="/ideas" ><i class="ph ph-lightbulb-filament"></i> Ideas</a><li><a href="/bookmarks" ><i class="ph ph-bookmarks"></i> Bookmarks</a><li><a href="/resume" ><i class="ph ph-read-cv-logo"></i> Resume</a><li><a href="/pro" ><i class="ph ph-seal"></i> Shellsharks Pro</a><li><a href="/sharkweek" ><i class="ph ph-calendar-heart"></i> >Shark Week</a><li><a href="/architecture" ><i class="ph ph-blueprint"></i> Architecture</a><li><a href="/roadmap" ><i class="ph ph-road-horizon"></i> Roadmap</a><li><a href="/tags?tag=bestof#info" ><i class="ph ph-star"></i> Best</a><li><a href="/projects" ><i class="ph ph-compass-tool"></i> Projects</a><li><a href="/now#supporting" ><i class="ph ph-hand-heart"></i> Supports</a><li><a href="/uses#referrals" ><i class="ph ph-hand-arrow-up"></i> Referrals</a><li><a href="/style" ><i class="ph ph-frame-corners"></i> Style</a><li><a href="/.well-known/security.txt" ><i class="ph ph-bug"></i> Report a Bug</a><li><a href="/humans.txt" ><i class="ph ph-user-rectangle"></i> Humans</a><li><a href="/disclaimer" ><i class="ph ph-info"></i> License & Disclaimer</a><li><a href="/privacy" ><i class="ph ph-cookie"></i> Privacy</a><li><a href="/starsharks" ><i class="ph ph-sparkle"></i> Starsharks</a><li><a href="/chipotle" ><i class="ph ph-pepper"></i> Chipotle</a><li><a href="/misc" ><i class="ph ph-paperclip"></i> Junk Drawer</a><li><a href="/ocean" ><i class="ph ph-waves"></i> the Ocean</a><li><a href="/void" ><i class="ph ph-spiral"></i> the Void</a><li class="menu_section">Other<li><a href="/public.pgp" ><i class="ph ph-key"></i> PGP Public Key</a><li><a href="https://infosec.pub/c/cybersecurity" target="_blank"><i class="ph ph-hamburger"></i> Infosec.Pub</a><li><a href="https://malici.ous.computer/@shellsharks" target="_blank"><i class="ph ph-linux-logo"></i> malici.ous.computer</a><li><a href="https://mastodon.social/@sass" target="_blank"><i class="ph-fill ph-mastodon-logo"></i> Mastodon.Social</a><li><a href="https://discord.gg/3rkHgtcYbb" target="_blank"><i class="ph ph-discord-logo"></i> Shellsharks Discord</a><li><a href="https://www.linkedin.com/in/mikesass" target="_blank"><i class="ph ph-linkedin-logo"></i> Linkedin</a><li><a href="/toots/infosec-exchange/shellsharks/" ><i class="ph ph-database"></i> Infosec.exchange Toot Archive</a><li><a href="https://github.com/shellsharks" target="_blank"><i class="ph ph-github-logo"></i> Github</a><li><a href="https://fediverse-webring-enthusiasts.glitch.me/profiles/shellsharks_infosec.exchange/index.html" target="_blank"><i class="ph ph-circle"></i> Webring Enthusiasts</a><li><a href="https://fedia.io/m/cybersecurity" target="_blank"><i class="ph ph-square-half"></i> Fedia.io</a><li><img src="/assets/img/avatar.png" height="50" style="position: relative; display: block; margin:auto; margin-top:20px; margin-bottom:20px;" /></ul></div></div><!-- window.onload = function() { var menuButton = document.getElementById('menuToggle'); var menu = document.getElementById('menu'); menu.classList.add('hidden'); document.getElementById("menuToggle").children[0].checked = false; } --> <script> const menuButton = document.getElementById('menuToggle'); const menu = document.getElementById('menu'); var links = menu.querySelectorAll('a'); menuButton.addEventListener('click', () => { if (!menu.contains(event.target)) { menu.classList.toggle('hidden'); } }); document.addEventListener('click', (event) => { if (!menu.contains(event.target) && !menuButton.contains(event.target)) { menu.classList.add('hidden'); if (document.getElementById("menuToggle").children[0].checked) { document.getElementById("menuToggle").children[0].checked = !document.getElementById("menuToggle").children[0].checked; } } }); links.forEach(function(link) { link.addEventListener('click', function(event) { document.querySelector("#hamburger").click(); }); }); </script> <img id="title_image" src="/assets/img/shellsharks.gif" alt="Shellsharks>_" onclick='window.open("/","_self")'> <span style="float:right;"><a href="/search"><i class="ph-bold ph-magnifying-glass" style="color:var(--font-color); font-size:1.6em; top:-2px;"></i></a></span> </heading><nav class="container_item"><ul id="nav_menu" style="list-style-type:none;padding-left: 10px;"><li class="menu_section">Main<li><a href="/home/feed" ><i class="ph ph-house"></i> Home Feed</a><li><a href="/about" ><i class="ph ph-identification-card"></i> About</a><li><a href="/feeds" ><i class="ph ph-rss"></i> Feeds</a><li><a href="/activity" ><i class="ph ph-pulse"></i> Activity</a><li><a href="https://shellsharks.social/@shellsharks" target="_blank"><i class="ph ph-mastodon-logo"></i> Mastodon</a><li><a href="mailto:mike@shellsharks.com" ><i class="ph ph-envelope"></i> Email</a><li><a href="https://ko-fi.com/shellsharks" ><i class="ph ph-coffee"></i> Buy me a Coffee</a><li id="themetoggler"><i class="ph ph-swatches" id="themetoggle"></i> Toggle theme<li class="menu_section">Site Nav<li><a href="/scrolls" ><i class="ph ph-scroll"></i> Scrolls Newsletter</a><li><a href="/podcast" ><i class="ph ph-microphone"></i> The Shellsharks Podcast</a><li><a href="/notebook" ><i class="ph ph-note"></i> Notebook</a><li><a href="/blogs" ><i class="ph ph-article"></i> Blogs</a><li><a href="/blogs/infosec" ><i class="ph ph-bug"></i> Infosec Blogs</a><li><a href="/captains-log" ><i class="ph-fill ph-notebook"></i> Captain's Log</a><li><a href="/devlog" ><i class="ph ph-code-block"></i> Devlog</a><li><a href="/linklog" ><i class="ph ph-link"></i> Linklog</a><li><a href="/blogroll" ><i class="ph ph-paint-roller"></i> Blogroll</a><li><a href="/fediverse" ><i class="ph ph-fediverse-logo"></i> Fediverse ‚ÅÇ</a><li><a href="/slashes" ><i class="ph ph-folder-simple-star"></i> Slashes</a><li><a href="/uses" ><i class="ph ph-hammer"></i> Uses</a><li><a href="/now" ><i class="ph ph-clock"></i> Now</a><li><a href="/tags" ><i class="ph ph-tag"></i> Tags</a><li><a href="/statboard" ><i class="ph ph-gauge"></i> Statboard</a><li><a href="/changelog" ><i class="ph ph-arrows-left-right"></i> Change Log</a><li><a href="/interests" ><i class="ph ph-heart"></i> Interests</a><li><a href="/ideas" ><i class="ph ph-lightbulb-filament"></i> Ideas</a><li><a href="/bookmarks" ><i class="ph ph-bookmarks"></i> Bookmarks</a><li><a href="/resume" ><i class="ph ph-read-cv-logo"></i> Resume</a><li><a href="/pro" ><i class="ph ph-seal"></i> Shellsharks Pro</a><li><a href="/sharkweek" ><i class="ph ph-calendar-heart"></i> >Shark Week</a><li><a href="/architecture" ><i class="ph ph-blueprint"></i> Architecture</a><li><a href="/roadmap" ><i class="ph ph-road-horizon"></i> Roadmap</a><li><a href="/tags?tag=bestof#info" ><i class="ph ph-star"></i> Best</a><li><a href="/projects" ><i class="ph ph-compass-tool"></i> Projects</a><li><a href="/now#supporting" ><i class="ph ph-hand-heart"></i> Supports</a><li><a href="/uses#referrals" ><i class="ph ph-hand-arrow-up"></i> Referrals</a><li><a href="/style" ><i class="ph ph-frame-corners"></i> Style</a><li><a href="/.well-known/security.txt" ><i class="ph ph-bug"></i> Report a Bug</a><li><a href="/humans.txt" ><i class="ph ph-user-rectangle"></i> Humans</a><li><a href="/disclaimer" ><i class="ph ph-info"></i> License & Disclaimer</a><li><a href="/privacy" ><i class="ph ph-cookie"></i> Privacy</a><li><a href="/starsharks" ><i class="ph ph-sparkle"></i> Starsharks</a><li><a href="/chipotle" ><i class="ph ph-pepper"></i> Chipotle</a><li><a href="/misc" ><i class="ph ph-paperclip"></i> Junk Drawer</a><li><a href="/ocean" ><i class="ph ph-waves"></i> the Ocean</a><li><a href="/void" ><i class="ph ph-spiral"></i> the Void</a><li class="menu_section">Other<li><a href="/public.pgp" ><i class="ph ph-key"></i> PGP Public Key</a><li><a href="https://infosec.pub/c/cybersecurity" target="_blank"><i class="ph ph-hamburger"></i> Infosec.Pub</a><li><a href="https://malici.ous.computer/@shellsharks" target="_blank"><i class="ph ph-linux-logo"></i> malici.ous.computer</a><li><a href="https://mastodon.social/@sass" target="_blank"><i class="ph-fill ph-mastodon-logo"></i> Mastodon.Social</a><li><a href="https://discord.gg/3rkHgtcYbb" target="_blank"><i class="ph ph-discord-logo"></i> Shellsharks Discord</a><li><a href="https://www.linkedin.com/in/mikesass" target="_blank"><i class="ph ph-linkedin-logo"></i> Linkedin</a><li><a href="/toots/infosec-exchange/shellsharks/" ><i class="ph ph-database"></i> Infosec.exchange Toot Archive</a><li><a href="https://github.com/shellsharks" target="_blank"><i class="ph ph-github-logo"></i> Github</a><li><a href="https://fediverse-webring-enthusiasts.glitch.me/profiles/shellsharks_infosec.exchange/index.html" target="_blank"><i class="ph ph-circle"></i> Webring Enthusiasts</a><li><a href="https://fedia.io/m/cybersecurity" target="_blank"><i class="ph ph-square-half"></i> Fedia.io</a></ul></nav><main class="container_item"><div class="pageheader"></div><article class="post h-entry"><header class="post-header"><h1 class="post-title p-name" id="title" style="display:inline;">Creating an Activity Feed with Jekyll</h1><span style="color:#CA3342;font-size:4em;line-height: 20px;">.</span></header><!--<div id="postinfo"> <span class="time"><i class="ph ph-note-pencil"></i> by <span class="hov p-author h-card">Mike Sass</span> <a href="/about" rel="author"><img class="u-photo" src="https://shellsharks-images.s3.amazonaws.com/surfshark.png" style="display:inline; height:1em;" /></a></span><br/> <br/> <span class="categories"> &raquo; technology, blog </span></div>--><div class="post-content e-content" style="margin-top: 30px;"><p>In my effort to <a href="/indieweb">IndieWeb</a>-ify my site, I‚Äôve created a unified <strong><a href="/activity">Activity feed</a></strong> which aggregates traditional <a href="/">posts</a>, <a href="/notebook">notes</a>, <a href="\/captains-log">captain logs</a>, <a href="/changelog">changes</a> (<em>and more in the <a href="#future-versions">future</a></em>) into a single, chronological timeline. [<strong><a href="/notes/2024/04/08/the-activity-feed">1</a></strong>]<p>I‚Äôd like to thank the following individuals for helping inspire my Activity feed!<ul><li><a href="https://www.mollywhite.net/feed">Molly White</a><li><a href="https://kottke.org/">Jason Kottke</a><li><a href="https://aaronparecki.com/">Aaron Parecki</a></ul><hr /><p><em>OK</em>, so how did I make this using <a href="https://jekyllrb.com">Jekyll</a>? The first version of the <a href="/activity">Activity feed</a> relies heavily on leveraging the Jekyll concept of ‚Äú<a href="https://jekyllrb.com/docs/collections/">Collections</a>‚Äù. <em><a href="#future-versions">Future versions</a> of this feed may pull in content from additional places around the site &amp; beyond using other mechanisms.</em><p>First, I needed to get all of my various collections (i.e. notes, logs, posts, etc‚Ä¶) into a single array. The code below uses <code class="language-plaintext highlighter-rouge">concat</code> to do just this. <code class="language-plaintext highlighter-rouge">site[collection.label]</code> translates to <code class="language-plaintext highlighter-rouge">site.notes</code>, <code class="language-plaintext highlighter-rouge">site.posts</code>, etc‚Ä¶<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">collection</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">collections</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">content_array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">content_array</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">concat</span><span class="p">:</span><span class="w"> </span><span class="nv">site</span><span class="p">[</span><span class="nv">collection</span><span class="p">.</span><span class="nv">label</span><span class="p">]</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span>

</code></pre></div></div><p>Following this, I needed to chronologically sort the aggregate array.<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">content_array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">content_array</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">sort</span><span class="p">:</span><span class="w"> </span><span class="s2">"date"</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">reverse</span><span class="w"> </span><span class="cp">%}</span>

</code></pre></div></div><p>To handle different styling for different content types, I created an <code class="language-plaintext highlighter-rouge">If/Else</code> structure which iterates through the chronologically sorted content array setting some different variables for each type of content. For example, for records in the Activity feed that are ‚Äúnotes‚Äù, they will have a different icon, different ‚Äúverb‚Äù and different way to express the inline content summary. It determines content type by looking at the collection value for each item in the content array.<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">post_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">content_array</span><span class="w"> </span><span class="cp">%}</span>
  
  <span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">post_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="nv">collection</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">post_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"notes"</span><span class="w"> </span><span class="cp">%}</span>
    <span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">icon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ph ph-note"</span><span class="w"> </span><span class="cp">%}</span>
    <span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">verb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Noted"</span><span class="w"> </span><span class="cp">%}</span>
    <span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="nv">excerpt</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">strip_html</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">strip_newlines</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">truncatewords</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{%</span><span class="w"> </span><span class="nt">elsif</span><span class="w"> </span><span class="nv">post_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"captain_logs"</span><span class="w"> </span><span class="cp">%}</span>
    <span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">icon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ph ph-notebook"</span><span class="w"> </span><span class="cp">%}</span>
    <span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">verb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Logged"</span><span class="w"> </span><span class="cp">%}</span>
    <span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="nv">excerpt</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">strip_html</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">strip_newlines</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">truncatewords</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{%</span><span class="w"> </span><span class="nt">elsif</span><span class="w"> </span><span class="nv">post_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"posts"</span><span class="w"> </span><span class="cp">%}</span>
    <span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">icon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ph ph-article"</span><span class="w"> </span><span class="cp">%}</span>
    <span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">verb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Posted"</span><span class="w"> </span><span class="cp">%}</span>
    <span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="nv">description</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{%</span><span class="w"> </span><span class="nt">else</span><span class="w"> </span><span class="cp">%}</span>
     <span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">icon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ph ph-chat-text"</span><span class="w"> </span><span class="cp">%}</span>
     <span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">verb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Shared"</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span>

</code></pre></div></div><p>Finally, I need to create the structure for each record in the Activity feed. The code snippet below demonstrates this <code class="language-plaintext highlighter-rouge">div</code> which houses some inline styling info for per-content-type aesthetics, <a href="https://shopify.github.io/liquid/basics/introduction/">Liquid</a> syntax for pulling content record-specific URL, title, description, publish date, etc‚Ä¶<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"item"</span> <span class="na">style=</span><span class="s">"border-color: var(--{{item.collection}}-color); background-color: color-mix(in srgb, var(--{{item.collection}}-color) 7%, var(--background-color));"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"verb"</span><span class="nt">&gt;&lt;i</span> <span class="na">class=</span><span class="s">"{{ icon }}"</span><span class="nt">&gt;&lt;/i&gt;</span> {{ verb }}:<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;h3&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{{ item.url }}"</span><span class="nt">&gt;</span>{{ item.title }}<span class="nt">&lt;/a&gt;&lt;/h3&gt;</span>
  <span class="nt">&lt;div&gt;</span>{{ content }}<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"date"</span><span class="nt">&gt;&lt;i&gt;</span>published<span class="nt">&lt;/i&gt;</span> {{ item.date | date: '%B %e, %Y' }}<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"syndicate"</span><span class="nt">&gt;</span>{% if item.syndicate-to %}<span class="nt">&lt;i</span> <span class="na">class=</span><span class="s">"ph ph-broadcast"</span> <span class="na">title=</span><span class="s">"Syndication"</span><span class="nt">&gt;&lt;/i&gt;</span> {% for dest in item.syndicate-to %}{% if dest.url %}<span class="nt">&lt;span</span> <span class="na">style=</span><span class="s">"padding:0px 5px 0px 5px;"</span><span class="nt">&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{{dest.url}}"</span><span class="nt">&gt;</span>{% if dest.icon %}<span class="nt">&lt;i</span> <span class="na">class=</span><span class="s">"{{dest.icon}}"</span> <span class="na">title=</span><span class="s">"{{dest.name}}"</span><span class="nt">&gt;&lt;/i&gt;</span>{% else %}<span class="nt">&lt;i</span> <span class="na">class=</span><span class="s">"ph ph-share-network"</span> <span class="na">title=</span><span class="s">"{{dest.name}}"</span><span class="nt">&gt;&lt;/i&gt;</span>{% endif %}<span class="nt">&lt;/a&gt;&lt;/span&gt;</span>{% endif %}{% endfor %}{% endif %}<span class="nt">&lt;/span&gt;</span>
  {% if item.tags %}<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"tags"</span><span class="nt">&gt;</span>{% for tag in item.tags %}<span class="nt">&lt;span&gt;</span>#{{tag}}<span class="nt">&lt;/span&gt;</span> {% endfor %}<span class="nt">&lt;/div&gt;</span>{% endif %}
  <span class="nt">&lt;/div&gt;</span>

</code></pre></div></div><p><strong>NOTE</strong>: Not described here is some of the more unique on-page CSS styling and the (very similar) div block I created to pull in the latest <a href="/changelog">Changelog</a> list.<h2 id="future-versions">Future Versions</h2><p>I have some ideas for what other types of content I may pull into this feed in the future‚Ä¶<ul><li>I‚Äôd like to introduce a new type of content, a ‚Äú<strong>devlog</strong>‚Äù - featuring specific writeups on exactly how I make changes to this site.<li><strong><a href="/podcast">Podcasts</a></strong>: I need to convert my podcast entries into a collection format. Oh and get Podcasting again!<li>I‚Äôm toying with the idea of converting my gargantuan <strong><a href="/changelog">changelog</a></strong> page into a per-day or per-week collection format.<li>Bringing in <strong><a href="/now">/Now</a></strong> (or <strong>/Then</strong>) content. [<a href="https://mastodon.social/@sass/112221427615760946">2</a>]<li>Reverse syndication of other posts around the web (i.e. Mastodon, Reddit, Bluesky, etc‚Ä¶) directly into the feed.</ul><hr /><h2 id="code-appendix">Code Appendix</h2><p>A full pasting of the code below‚Ä¶<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{% for collection in site.collections %}
  {% assign content_array = content_array | concat: site[collection.label] %}
{% endfor %}

{% assign content_array = content_array | sort: "date" | reverse %}

{% assign post_type = "" %}

{% for item in content_array %}
  
  {% assign post_type = item.collection %}
  {% if post_type == "notes" %}
    {% assign icon = "ph ph-note" %}
    {% assign verb = "Noted" %}
    {% assign content = item.excerpt | strip_html | strip_newlines | truncatewords: 50 %}
  {% elsif post_type == "captain_logs" %}
    {% assign icon = "ph ph-notebook" %}
    {% assign verb = "Logged" %}
    {% assign content = item.excerpt | strip_html | strip_newlines | truncatewords: 50 %}
  {% elsif post_type == "posts" %}
    {% assign icon = "ph ph-article" %}
    {% assign verb = "Posted" %}
    {% assign content = item.description %}
  {% else %}
     {% assign icon = "ph ph-chat-text" %}
     {% assign verb = "Shared" %}
  {% endif %}

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"item"</span> <span class="na">style=</span><span class="s">"border-color: var(--{{item.collection}}-color); background-color: color-mix(in srgb, var(--{{item.collection}}-color) 7%, var(--background-color));"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"verb"</span><span class="nt">&gt;&lt;i</span> <span class="na">class=</span><span class="s">"{{ icon }}"</span><span class="nt">&gt;&lt;/i&gt;</span> {{ verb }}:<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;h3&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{{ item.url }}"</span><span class="nt">&gt;</span>{{ item.title }}<span class="nt">&lt;/a&gt;&lt;/h3&gt;</span>
  <span class="nt">&lt;div&gt;</span>{{ content }}<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"date"</span><span class="nt">&gt;&lt;i&gt;</span>published<span class="nt">&lt;/i&gt;</span> {{ item.date | date: '%B %e, %Y' }}<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"syndicate"</span><span class="nt">&gt;</span>{% if item.syndicate-to %}<span class="nt">&lt;i</span> <span class="na">class=</span><span class="s">"ph ph-broadcast"</span> <span class="na">title=</span><span class="s">"Syndication"</span><span class="nt">&gt;&lt;/i&gt;</span> {% for dest in item.syndicate-to %}{% if dest.url %}<span class="nt">&lt;span</span> <span class="na">style=</span><span class="s">"padding:0px 5px 0px 5px;"</span><span class="nt">&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{{dest.url}}"</span><span class="nt">&gt;</span>{% if dest.icon %}<span class="nt">&lt;i</span> <span class="na">class=</span><span class="s">"{{dest.icon}}"</span> <span class="na">title=</span><span class="s">"{{dest.name}}"</span><span class="nt">&gt;&lt;/i&gt;</span>{% else %}<span class="nt">&lt;i</span> <span class="na">class=</span><span class="s">"ph ph-share-network"</span> <span class="na">title=</span><span class="s">"{{dest.name}}"</span><span class="nt">&gt;&lt;/i&gt;</span>{% endif %}<span class="nt">&lt;/a&gt;&lt;/span&gt;</span>{% endif %}{% endfor %}{% endif %}<span class="nt">&lt;/span&gt;</span>
  {% if item.tags %}<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"tags"</span><span class="nt">&gt;</span>{% for tag in item.tags %}<span class="nt">&lt;span&gt;</span>#{{tag}}<span class="nt">&lt;/span&gt;</span> {% endfor %}<span class="nt">&lt;/div&gt;</span>{% endif %}
  <span class="nt">&lt;/div&gt;</span>
{% endfor %}

</code></pre></div></div></div></article><hr class="fin"><div id="poststats" class="containbox" style="margin: auto;"> <span class="time"><i class="ph ph-calendar-dot"></i> Published: <span class="dt-published">April 9, 2024</span></span> <a class="u-url u-uid" href></a><br> <span class="categories"><i class="ph ph-tag"></i> Tags: <span class="primarybg" style="border-radius:15px;padding:0px 5px 0px 5px;"><a class="p-category" href="/tags?tag=technology">#technology</a></span> <span class="primarybg" style="border-radius:15px;padding:0px 5px 0px 5px;"><a class="p-category" href="/tags?tag=indieweb">#indieweb</a></span> <span class="primarybg" style="border-radius:15px;padding:0px 5px 0px 5px;"><a class="p-category" href="/tags?tag=jekyll">#jekyll</a></span> </span><br/> <span class="time"><i class="ph ph-pencil"></i> Word count: 1396</span> <span class="p-summary" style="display:none;">How to create a unified, IndieWeb-inspired "Activity" feed with Jekyll.</span><div style="color:var(--secondary-font-color);"> <i class="ph ph-broadcast"></i><span> Syndicated To:</span> <span style="padding:0px 3px 0px 3px;"><a href="https://shellsharks.social/@shellsharks/112242564467827076"><i class="ph ph-mastodon-logo" title="Mastodon" style="font-size:1.25em;"></i></a></span></div></div><br/><div class="PageNavigation"> <a class="prev" style="margin-right: 2em;" href="/xz-compromise-link-roundup#title">&laquo; xz/liblzma Compromise Link Roundup</a><div style="float:right;"><a class="next" href="/multiplicity-of-writing#title" style="margin-right:0;">A Multiplicity of Writing &raquo;</a></div></div></main><aside class="container_item"></aside><footer class="container_item"> <center><span style="color:var(--light-font-color); font-size:.8em; font-style:italic; position:relative; top:25px;">Brought to you with <i class="ph-fill ph-heart-straight" style="color:var(--accent-color);"></i> by <a href="https://shellsharks.com/about">Shellsharks</a></span></center> <center> <img id="sharkfooter" src="/assets/img/sharks-circling.png" alt="Circling Sharks" style="width:150px;"></img> </center></footer></div><noscript><div class="panel" align="center" style="font-weight:bold;"><h1>Please enable JavaScript.</h1></div></noscript> <script src="/assets/js/themeswitcher.js"></script>
